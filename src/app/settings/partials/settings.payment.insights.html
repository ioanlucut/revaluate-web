<!-- Payment profile section -->
<div class="settings__section">

    <!--Payment profile section-->
    <div class="settings__section__form">

        <!-- Title -->
        <h1 class="settings__title">Payment profile</h1>

        <!-- Go to edit -->
        <a class="link-navigation" href="javascript:void(0)" ui-sref="settings.payment.method">Edit payment method</a>
        <a class="link-navigation" href="javascript:void(0)" ui-sref="settings.payment.customer">Edit customer information</a>

        <!--Payment profile-->
        <div class="settings__section__payment-profile">
            <div class="settings__section__payment-profile__first-name">{{paymentInsights.paymentCustomerDTO.firstName}}</div>
            <div class="settings__section__payment-profile__last-name">{{paymentInsights.paymentCustomerDTO.lastName}}</div>
            <div class="settings__section__payment-profile__email">{{paymentInsights.paymentCustomerDTO.email}}</div>
        </div>

        <!--Payment method-->
        <div class="settings__section__payment-payment-method" ng-repeat="paymentMethodDTO in paymentInsights.paymentMethodDTOs">
            <div class="settings__section__payment-payment-method__card-type">{{paymentMethodDTO.cardType}}</div>
            <div class="settings__section__payment-payment-method__expiration-month">{{paymentMethodDTO.expirationMonth}}</div>
            <div class="settings__section__payment-payment-method__expiration-year">{{paymentMethodDTO.expirationYear}}</div>
            <img ng-src="{{paymentMethodDTO.imageUrl}}" />

            <div class="settings__section__payment-payment-method__expiration-number">{{paymentMethodDTO.bin}}****{{paymentMethodDTO.last4}}</div>

                <!--Payment method subscriptions-->
                <div class="settings__section__payment-payment-method__subscription" ng-repeat="paymentSubscription in paymentMethodDTO.paymentSubscriptionDTOList">
                    <div class="settings__section__payment-payment-method__subscription__id">{{paymentSubscription.id}}</div>
                    <div class="settings__section__payment-payment-method__subscription__amount">{{paymentSubscription.amount}}</div>
                    <div class="settings__section__payment-payment-method__subscription__status">{{paymentSubscription.status}}</div>
                    <div class="settings__section__payment-payment-method__subscription__createdAt">{{paymentSubscription.createdAt | friendlyDate}}</div>
                </div>
        </div>

        <!--Transactions-->
        <div class="settings__section__payment-transaction" ng-repeat="paymentTransactionDTO in paymentInsights.paymentTransactionDTOs">
            <div class="settings__section__payment-transaction__id">{{paymentTransactionDTO.id}}</div>
            <div class="settings__section__payment-transaction__amount">{{paymentTransactionDTO.amount}}</div>
            <div class="settings__section__payment-transaction__currency">{{paymentTransactionDTO.currencyCode}}</div>
            <div class="settings__section__payment-transaction__recurring">{{paymentTransactionDTO.recurring}}</div>
            <div class="settings__section__payment-transaction__status">{{paymentTransactionDTO.status}}</div>
            <div class="settings__section__payment-transaction__created-at">{{paymentTransactionDTO.createdAt | friendlyDate}}</div>
        </div>
    </div>

    <!--Subscription payment section-->
    <div class="settings__section__form">

        <!-- Title -->
        <h1 class="settings__title">Payment subscribe</h1>

        <!-- Payment form -->
        <form ng-if="! paymentInsights.subscriptionActive" name="paymentSubscriptionForm" ng-submit="performPaymentSubscription()" novalidate>

            <div>Please subscribe to revaluate plan in order to activate payments.</div>

            <!-- Flash messages. -->
            <div flash-messages flash="flash" identifier-id="{{alertIdentifierId}}"></div>

            <!-- Button container -->
            <button class="settings__btn__save" type="submit">{{isRequestPending ? 'Subscribing...' : 'Subscribe'}}</button>
        </form>

        <div ng-if="paymentInsights.subscriptionActive">
            You are already subscribed to revaluate plan.
        </div>

    </div>

</div>