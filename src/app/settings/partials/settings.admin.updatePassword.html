<!-- Update password section -->
<div class="settings__box__section--small">

    <!-- Title -->
    <h1 class="settings__title">Change password</h1>

    <!-- Update password form -->
    <form name="vm.updatePasswordForm" ng-submit="vm.updatePassword()" novalidate focus-first-error>

        <!-- Flash messages. -->
        <div flash-messages flash="flash" identifier-id="{{vm.alertId}}"></div>

        <!-- Form group -->
        <div class="form-group-input" ng-class="{'has-error': vm.updatePasswordForm.$submitted && (vm.updatePasswordForm.oldPassword.$invalid || vm.badPostSubmitResponse)}">
            <input class="form-group-input__input" type="password" placeholder="Old password" name="oldPassword" ng-model="vm.updatePasswordData.oldPassword" required />
            <span class="form-group-input__message" ng-if="vm.updatePasswordForm.oldPassword.$invalid && vm.updatePasswordForm.$submitted">Please enter your old password.</span>
        </div>

        <!-- Form group -->
        <div class="form-group-input" ng-class="{'has-error': vm.updatePasswordForm.$submitted && (vm.updatePasswordForm.newPassword.$invalid || vm.badPostSubmitResponse)}">
            <input class="form-group-input__input" type="password" placeholder="New password" name="newPassword" ng-model="vm.updatePasswordData.newPassword" required strong-password />

            <div class="form-group-input__message" ng-messages="vm.updatePasswordForm.newPassword.$error" ng-if="vm.updatePasswordForm.$submitted">
                <div ng-message="required">Please add the new password.</div>
                <div ng-message="strongPassword">Needs to be at least 7 characters long.</div>
            </div>
        </div>

        <!-- Form group -->
        <div class="form-group-input" ng-class="{'has-error': vm.updatePasswordForm.$submitted && (vm.updatePasswordForm.newPasswordConfirmation.$invalid || vm.badPostSubmitResponse)}">
            <input class="form-group-input__input" type="password" placeholder="New password confirmation" name="newPasswordConfirmation" ng-model="vm.updatePasswordData.newPasswordConfirmation" required strong-password />

            <div class="form-group-input__message" ng-messages="vm.updatePasswordForm.newPasswordConfirmation.$error" ng-if="vm.updatePasswordForm.$submitted">
                <div ng-message="required">Please reconfirm the new password.</div>
                <div ng-message="strongPassword">Needs to be at least 7 characters long.</div>
            </div>
        </div>

        <!-- Button container -->
        <button class="settings__btn__save" type="submit">{{vm.isRequestPending ? 'Saving...' : 'Change password'}}</button>
    </form>

</div>
